---
title: Modelling the sex-age distribution of the global refugee and asylum-seeker
  population
author: "Sebastian Steinmueller (UNHCR)"
date: 'Version: `r Sys.Date()`'
output:
  html_document:
    df_print: paged
  pdf_document: default
  word_document: default
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(
	echo = TRUE,
	message = FALSE,
	warning = FALSE
)
## run code to create descriptive figures and tables

source("descriptives.R")

```


# Outline of descriptive analysis
- Describe UNHCR official population statistics content and compilation
- Show and explore structure of data sets: especially asylum - origin - location. 
- Show origin and asylum country structure in missing and non-missing demographic data
- Explain choice of age brackets (18-59 or finer?): show population and country coverage



# Introduction




# Data set
UNHCR compiles official statistics on stocks and flows of forcibly displaced and stateless persons twice a year, once for mid-year figures (Mid-Year Statistical Reporting, MYSR) and once for end-year figures (Annual Statistical Reporting, ASR). For these reporting exercises, country operations compile aggregate population figures from a range of sources and data producers such as governments, UNHCR's own refugee registration database proGres and sometimes non-governmental actors. The figures undergo a statistical quality control process at the country, regional and global level of the organisation and are disseminated on the publicly available refugee data finder (https://www.unhcr.org/refugee-statistics/) after undergoing a light statistical disclosure control process to suppress very small counts of persons that could identify individuals. 

The end-year figures compiled with reporting date 30 December contain sex- and age breakdowns of the stocks of displaced and stateless people under UNHCR's mandate. Agr brackets 
 
```{r  rows.print=5, rownames.print = F}
demref2020 %>% select(2:32)
``` 
 

## Descriptives of age distribution and missingness







Globally
- % per age/sex cat. 
- % age missing
- % age and sex missing

```{r, echo=F}

knitr::kable(t.checkunknowns.ref, caption = 'Unknown age in disaggregated data')

```

In some reporting countries, the age for a small proportion of refugees for whom age-disaggregated data was generally available could not be determined. This was the case for `r round(t.checkunknowns.ref$freq.ageUnknown*100,1)` per cent of the `r as.numeric(t.typeOfDisaggregation[t.typeOfDisaggregation$typeOfDisaggregation=="Sex/Age"&!(is.na(t.typeOfDisaggregation$typeOfDisaggregation)),])` refugees with available age disaggregation.

By CoO
- % per age/sex cat. 
- % age missing
- % age and sex missing

```{r, fig.height = 7, fig.width = 15, fig.align='center', echo=F, fig.cap='Demographic disaggregation coverage by origin country and asylum region'}
p.typeOfDisaggregationBroad.ori.asyreg

```



```{r, fig.height = 7, fig.width = 15, echo=F, fig.cap='2020 end-year refugee/Venezuelan population by origin country and asylum region'}
p.totalEndYear.ori.asyreg

```

By CoA
- % per age/sex cat. 
- % age missing
- % age and sex missing


Discuss types and reasons for missingness (NMAR) and outline modelling approach to overcome.
Why is using available data so bad?
